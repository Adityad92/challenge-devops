<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="author" content="Challenge DevOps Team" />
      <link rel="shortcut icon" href="../../img/favicon.ico" />
    <title>Net http - Challenge DevOps</title>
    <link rel="stylesheet" href="../../css/theme.css" />
    <link rel="stylesheet" href="../../css/theme_extra.css" />
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/styles/github.min.css" />
    
      <script>
        // Current page data
        var mkdocs_page_name = "Net http";
        var mkdocs_page_input_path = "golang/learning/net-http.md";
        var mkdocs_page_url = null;
      </script>
    
    <!--[if lt IE 9]>
      <script src="../../js/html5shiv.min.js"></script>
    <![endif]-->
      <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/highlight.min.js"></script>
      <script>hljs.highlightAll();</script> 
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
    <div class="wy-side-scroll">
      <div class="wy-side-nav-search">
          <a href="../../index.html" class="icon icon-home"> Challenge DevOps
        </a><div role="search">
  <form id ="rtd-search-form" class="wy-form" action="../../search.html" method="get">
      <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" title="Type search term here" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../../index.html">About Us</a>
                </li>
              </ul>
              <p class="caption"><span class="caption-text">Code Rendering Types</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../../rendering/concept.html">Concept</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../rendering/CSR.html">CSR</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../rendering/SSR.html">SSR</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../rendering/SSG.html">SSG</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../rendering/ISR.html">ISR</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">Networking</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="#">learning</a>
    <ul>
                <li class="toctree-l2"><a class="reference internal" href="../../networking/learning/networking-overview.html">Networking overview</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../networking/learning/important-commands.html">Important commands</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../networking/learning/traceroute.html">Traceroute</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../networking/learning/netstat.html">Netstat</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../networking/learning/nslookup-dig.html">Nslookup dig</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../networking/learning/ssh.html">Ssh</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../networking/learning/telnet.html">Telnet</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../networking/learning/nmap.html">Nmap</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../networking/learning/curl-wget.html">Curl wget</a>
                </li>
    </ul>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="#">projects</a>
    <ul>
                <li class="toctree-l2"><a class="reference internal" href="../../networking/projects/1-Setting-Up-a-Secure-VPN.html">1 Setting Up a Secure VPN</a>
                </li>
    </ul>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">Proxies</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="#">learning</a>
    <ul>
                <li class="toctree-l2"><a class="reference internal" href="../../proxies/learning/overview.html">Overview</a>
                </li>
    </ul>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="#">projects</a>
    <ul>
                <li class="toctree-l2"><a class="reference internal" href="../../proxies/projects/1-Reverse-Proxy-Server-Nginx.html">1 Reverse Proxy Server Nginx</a>
                </li>
    </ul>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">Ansible</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="#">learning</a>
    <ul>
                <li class="toctree-l2"><a class="reference internal" href="../../ansible/learning/1-overview.html">1 overview</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../ansible/learning/2-basic.html">2 basic</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../ansible/learning/3-ansible-features.html">3 ansible features</a>
                </li>
    </ul>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="#">projects</a>
    <ul>
                <li class="toctree-l2"><a class="reference internal" href="../../ansible/projects/1-Web-Server-nginx.html">1 Web Server nginx</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../ansible/projects/2-Managing-System-Packages.html">2 Managing System Packages</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../ansible/projects/3-Configuring-a-Firewall.html">3 Configuring a Firewall</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../ansible/projects/4-Web-App-Using-Docker.html">4 Web App Using Docker</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../ansible/projects/5-run-nginx-container.html">5 run nginx container</a>
                </li>
    </ul>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">Golang</span></p>
              <ul class="current">
                  <li class="toctree-l1 current"><a class="reference internal current" href="#">learning</a>
    <ul class="current">
                <li class="toctree-l2"><a class="reference internal" href="important-packages.html">Important packages</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="func-breakdown.html">Func breakdown</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="pointers-dereferencing.html">Pointers dereferencing</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="methods.html">Methods</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="struct.html">Struct</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="interface.html">Interface</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="interface-ex-2.html">Interface ex 2</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="file-operations.html">File operations</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="complex-struct.html">Complex struct</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="database-struct.html">Database struct</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="db-connection.html">Db connection</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="db-crud.html">Db crud</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="json.html">Json</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="yaml.html">Yaml</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="os-package.html">Os package</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="os-exec.html">Os exec</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="path-filepath.html">Path filepath</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="encoding-json.html">Encoding json</a>
                </li>
                <li class="toctree-l2 current"><a class="reference internal current" href="net-http.html">Net http</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="strconv.html">Strconv</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="context.html">Context</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="strings.html">Strings</a>
                </li>
    </ul>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="#">projects</a>
    <ul>
                <li class="toctree-l2"><a class="reference internal" href="../projects/1-Simple-CLI-Tool.html">1 Simple CLI Tool</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../projects/2-Web-Server-with-Basic-API.html">2 Web Server with Basic API</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../projects/4-Container-Image-Builder.html">4 Container Image Builder</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../projects/7-color-print-message.html">7 color print message</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../projects/8-Currency-Conversion-API.html">8 Currency Conversion API</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../projects/9.Todo-List-API.html">9.Todo List API</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../projects/10-Recipe-API.html">10 Recipe API</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../projects/11-contact-list-csv.html">11 contact list csv</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../projects/12-mongodb-manual.html">12 mongodb manual</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../projects/13-mongoDB-API.html">13 mongoDB API</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../projects/14-midleware-okta.html">14 midleware okta</a>
                </li>
    </ul>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">Bash-Scripting</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="#">learning</a>
    <ul>
                <li class="toctree-l2"><a class="reference internal" href="../../bash/learning/special-variable.html">Special variable</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../bash/learning/conditional-expression.html">Conditional expression</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../bash/learning/jq.html">Jq</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../bash/learning/yq.html">Yq</a>
                </li>
    </ul>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="#">projects</a>
    <ul>
                <li class="toctree-l2"><a class="reference internal" href="../../bash/projects/1-File-Organizer.html">1 File Organizer</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../bash/projects/2-System-Monitor.html">2 System Monitor</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../bash/projects/3-Backup-Script.html">3 Backup Script</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../bash/projects/4-Web-Log-Analyzer.html">4 Web Log Analyzer</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../bash/projects/5-Task-Scheduler.html">5 Task Scheduler</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../bash/projects/6-color-print-message.html">6 color print message</a>
                </li>
    </ul>
                  </li>
              </ul>
      </div>
    </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">
      <nav class="wy-nav-top" role="navigation" aria-label="Mobile navigation menu">
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">Challenge DevOps</a>
        
      </nav>
      <div class="wy-nav-content">
        <div class="rst-content"><div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../../index.html" class="icon icon-home" aria-label="Docs"></a></li>
          <li class="breadcrumb-item">Golang</li>
          <li class="breadcrumb-item">learning</li>
      <li class="breadcrumb-item active">Net http</li>
    <li class="wy-breadcrumbs-aside">
    </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
            <div class="section" itemprop="articleBody">
              
                <p>The <code>net/http</code> package in Go is a powerful tool for building HTTP clients and servers. By focusing on the 80-20 principle, we'll cover the most common and useful features that will handle the majority of HTTP-related tasks.  </p>
<ol>
<li><strong>Creating HTTP Servers</strong>:  </li>
<li><code>http.ListenAndServe(addr string, handler http.Handler) error</code>: Starts an HTTP server with a given address and handler. The handler is usually nil, which means to use <code>http.DefaultServeMux</code>.  </li>
<li>
<p><code>http.HandleFunc(pattern string, handler func(http.ResponseWriter, *http.Request))</code>: Registers a handler function for a given pattern with the default serve mux.  </p>
</li>
<li>
<p><strong>Handling HTTP Requests</strong>:  </p>
</li>
<li><code>http.Request</code>: Represents an HTTP request received by a server or sent by a client.  </li>
<li>
<p><code>http.ResponseWriter</code>: An interface used by an HTTP handler to construct an HTTP response.  </p>
</li>
<li>
<p><strong>Creating HTTP Clients</strong>:  </p>
</li>
<li><code>http.Get(url string) (resp *http.Response, err error)</code>: Sends an HTTP GET request.  </li>
<li>
<p><code>http.Post(url, contentType string, body io.Reader) (resp *http.Response, err error)</code>: Sends an HTTP POST request.  </p>
</li>
<li>
<p><strong>Working with HTTP Responses</strong>:  </p>
</li>
<li><code>http.Response</code>: Represents the response from an HTTP server.  </li>
</ol>
<p><strong>Scenarios</strong>:  </p>
<ul>
<li><strong>Setting Up a Simple Web Server</strong>: When you want to serve HTTP requests in Go, use <code>http.ListenAndServe</code> and <code>http.HandleFunc</code>.  </li>
</ul>
<pre class="codehilite"><code class="language-go">http.HandleFunc(&quot;/hello&quot;, func(w http.ResponseWriter, r *http.Request) {  
    fmt.Fprintln(w, &quot;Hello, World!&quot;)  
})  

err := http.ListenAndServe(&quot;:8080&quot;, nil)  
if err != nil {  
    log.Fatal(err)  
}  
</code></pre>

<ul>
<li><strong>Reading Request Data</strong>: To read data from an HTTP request, such as query parameters or the request body, use the <code>http.Request</code> object.  </li>
</ul>
<pre class="codehilite"><code class="language-go">http.HandleFunc(&quot;/greet&quot;, func(w http.ResponseWriter, r *http.Request) {  
    name := r.URL.Query().Get(&quot;name&quot;)  
    if name == &quot;&quot; {  
        name = &quot;Guest&quot;  
    }  
    fmt.Fprintf(w, &quot;Hello, %s!&quot;, name)  
})  
</code></pre>

<ul>
<li><strong>Sending an HTTP GET Request</strong>: When your application needs to retrieve data from an external service, use <code>http.Get</code>.  </li>
</ul>
<pre class="codehilite"><code class="language-go">resp, err := http.Get(&quot;http://example.com&quot;)  
if err != nil {  
    log.Fatal(err)  
}  
defer resp.Body.Close()  
body, err := ioutil.ReadAll(resp.Body)  
if err != nil {  
    log.Fatal(err)  
}  
fmt.Println(string(body))  
</code></pre>

<ul>
<li><strong>Sending an HTTP POST Request</strong>: Use <code>http.Post</code> to send data to an external service.  </li>
</ul>
<pre class="codehilite"><code class="language-go">formData := url.Values{&quot;key&quot;: {&quot;Value&quot;}, &quot;id&quot;: {&quot;123&quot;}}  
resp, err := http.Post(&quot;http://example.com/post&quot;, &quot;application/x-www-form-urlencoded&quot;, strings.NewReader(formData.Encode()))  
if err != nil {  
    log.Fatal(err)  
}  
defer resp.Body.Close()  
body, err := ioutil.ReadAll(resp.Body)  
if err != nil {  
    log.Fatal(err)  
}  
fmt.Println(string(body))  
</code></pre>

<ul>
<li><strong>Creating a Custom HTTP Client</strong>: If you need to customize the HTTP client, for instance, to add timeouts, use <code>http.Client</code>.  </li>
</ul>
<pre class="codehilite"><code class="language-go">client := &amp;http.Client{Timeout: time.Second * 10}  
resp, err := client.Get(&quot;http://example.com&quot;)  
if err != nil {  
    log.Fatal(err)  
}  
defer resp.Body.Close()  
// ... read resp.Body as before  
</code></pre>

<ul>
<li><strong>Handling JSON Responses</strong>: When dealing with JSON APIs, you'll often need to decode JSON from the response body.  </li>
</ul>
<pre class="codehilite"><code class="language-go">type ApiResponse struct {  
    Data string `json:&quot;data&quot;`  
}  

resp, err := http.Get(&quot;http://example.com/api&quot;)  
if err != nil {  
    log.Fatal(err)  
}  
defer resp.Body.Close()  

var apiResp ApiResponse  
err = json.NewDecoder(resp.Body).Decode(&amp;apiResp) 

type ApiResponse struct {  
    Data string `json:&quot;data&quot;`  
}  

resp, err := http.Get(&quot;http://example.com/api&quot;)  
if err != nil {  
    log.Fatal(err)  
}  
defer resp.Body.Close()  

var apiResp ApiResponse  
err = json.NewDecoder(resp.Body).Decode(&amp;apiResp)  
if err != nil {  
    log.Fatal(err)  
}  
fmt.Println(apiResp.Data)  
</code></pre>

<ul>
<li><strong>Working with HTTP Headers</strong>: To set or read HTTP headers, use the <code>Header</code> map in both the <code>http.Request</code> and <code>http.Response</code> structs.  </li>
</ul>
<pre class="codehilite"><code class="language-go">// Setting request headers  
req, err := http.NewRequest(&quot;GET&quot;, &quot;http://example.com&quot;, nil)  
if err != nil {  
    log.Fatal(err)  
}  
req.Header.Set(&quot;Authorization&quot;, &quot;Bearer your-token&quot;)  

// Sending the request  
client := &amp;http.Client{}  
resp, err := client.Do(req)  
if err != nil {  
    log.Fatal(err)  
}  
defer resp.Body.Close()  

// Reading response headers  
contentType := resp.Header.Get(&quot;Content-Type&quot;)  
fmt.Println(&quot;Content-Type:&quot;, contentType)  
</code></pre>

<ul>
<li><strong>Serving Static Files</strong>: To serve static files such as JavaScript, CSS, and images, use <code>http.FileServer</code>.  </li>
</ul>
<pre class="codehilite"><code class="language-go">http.Handle(&quot;/&quot;, http.FileServer(http.Dir(&quot;/public&quot;)))  

err := http.ListenAndServe(&quot;:8080&quot;, nil)  
if err != nil {  
    log.Fatal(err)  
}  
</code></pre>

<ul>
<li><strong>Creating Middlewares</strong>: Middlewares are handlers that wrap other handlers to perform additional functions like logging, authentication, etc.  </li>
</ul>
<pre class="codehilite"><code class="language-go">func loggingMiddleware(next http.Handler) http.Handler {  
    return http.HandlerFunc(func(w http.ResponseWriter, r *http.Request) {  
        log.Printf(&quot;Request received: %s %s&quot;, r.Method, r.URL.Path)  
        next.ServeHTTP(w, r) // Call the next handler  
    })  
}  

http.Handle(&quot;/&quot;, loggingMiddleware(http.HandlerFunc(func(w http.ResponseWriter, r *http.Request) {  
    fmt.Fprintln(w, &quot;This is the main handler!&quot;)  
})))  

err := http.ListenAndServe(&quot;:8080&quot;, nil)  
if err != nil {  
    log.Fatal(err)  
}  
</code></pre>

<ul>
<li><strong>Using HTTPS</strong>: To serve traffic over HTTPS, use <code>http.ListenAndServeTLS</code>.  </li>
</ul>
<pre class="codehilite"><code class="language-go">err := http.ListenAndServeTLS(&quot;:443&quot;, &quot;server.crt&quot;, &quot;server.key&quot;, nil)  
if err != nil {  
    log.Fatal(err)  
}  
</code></pre>

<p>These examples showcase the most common use cases for the <code>net/http</code> package in Go. By mastering these fundamental patterns, you can handle a wide range of HTTP operations, from simple server setups to complex client requests. Always be mindful of error handling and resource management, such as closing response bodies and setting appropriate timeouts for your HTTP clients.</p>
              
            </div>
          </div><footer>
    <div class="rst-footer-buttons" role="navigation" aria-label="Footer Navigation">
        <a href="encoding-json.html" class="btn btn-neutral float-left" title="Encoding json"><span class="icon icon-circle-arrow-left"></span> Previous</a>
        <a href="strconv.html" class="btn btn-neutral float-right" title="Strconv">Next <span class="icon icon-circle-arrow-right"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
      <p>Challenge DevOps Team</p>
  </div>

  Built with <a href="https://www.mkdocs.org/">MkDocs</a> using a <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
</footer>
          
        </div>
      </div>

    </section>

  </div>

  <div class="rst-versions" role="note" aria-label="Versions">
  <span class="rst-current-version" data-toggle="rst-current-version">
    
    
      <span><a href="encoding-json.html" style="color: #fcfcfc">&laquo; Previous</a></span>
    
    
      <span><a href="strconv.html" style="color: #fcfcfc">Next &raquo;</a></span>
    
  </span>
</div>
    <script src="../../js/jquery-3.6.0.min.js"></script>
    <script>var base_url = "../..";</script>
    <script src="../../js/theme_extra.js"></script>
    <script src="../../js/theme.js"></script>
      <script src="../../search/main.js"></script>
    <script>
        jQuery(function () {
            SphinxRtdTheme.Navigation.enable(true);
        });
    </script>

</body>
</html>
