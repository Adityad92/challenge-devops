<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="author" content="Challenge DevOps Team" />
      <link rel="shortcut icon" href="../../img/favicon.ico" />
    <title>3 ansible features - Challenge DevOps</title>
    <link rel="stylesheet" href="../../css/theme.css" />
    <link rel="stylesheet" href="../../css/theme_extra.css" />
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/styles/github.min.css" />
    
      <script>
        // Current page data
        var mkdocs_page_name = "3 ansible features";
        var mkdocs_page_input_path = "ansible/learning/3-ansible-features.md";
        var mkdocs_page_url = null;
      </script>
    
    <!--[if lt IE 9]>
      <script src="../../js/html5shiv.min.js"></script>
    <![endif]-->
      <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/highlight.min.js"></script>
      <script>hljs.highlightAll();</script> 
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
    <div class="wy-side-scroll">
      <div class="wy-side-nav-search">
          <a href="../../index.html" class="icon icon-home"> Challenge DevOps
        </a><div role="search">
  <form id ="rtd-search-form" class="wy-form" action="../../search.html" method="get">
      <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" title="Type search term here" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../../index.html">About Us</a>
                </li>
              </ul>
              <p class="caption"><span class="caption-text">Code Rendering Types</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../../rendering/concept.html">Concept</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../rendering/CSR.html">CSR</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../rendering/SSR.html">SSR</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../rendering/SSG.html">SSG</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../rendering/ISR.html">ISR</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">Ansible</span></p>
              <ul class="current">
                  <li class="toctree-l1 current"><a class="reference internal current" href="#">learning</a>
    <ul class="current">
                <li class="toctree-l2"><a class="reference internal" href="1-overview.html">1 overview</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="2-basic.html">2 basic</a>
                </li>
                <li class="toctree-l2 current"><a class="reference internal current" href="3-ansible-features.html">3 ansible features</a>
    <ul class="current">
    </ul>
                </li>
    </ul>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="#">projects</a>
    <ul>
                <li class="toctree-l2"><a class="reference internal" href="../projects/1-Web-Server-nginx.html">1 Web Server nginx</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../projects/2-Managing-System-Packages.html">2 Managing System Packages</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../projects/3-Configuring-a-Firewall.html">3 Configuring a Firewall</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../projects/4-Web-App-Using-Docker.html">4 Web App Using Docker</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../projects/5-run-nginx-container.html">5 run nginx container</a>
                </li>
    </ul>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">Golang</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="#">learning</a>
    <ul>
                <li class="toctree-l2"><a class="reference internal" href="../../golang/learning/important-packages.html">Important packages</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../golang/learning/func-breakdown.html">Func breakdown</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../golang/learning/pointers-dereferencing.html">Pointers dereferencing</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../golang/learning/methods.html">Methods</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../golang/learning/struct.html">Struct</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../golang/learning/file-operations.html">File operations</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../golang/learning/complex-struct.html">Complex struct</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../golang/learning/database-struct.html">Database struct</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../golang/learning/db-connection.html">Db connection</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../golang/learning/db-crud.html">Db crud</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../golang/learning/json.html">Json</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../golang/learning/yaml.html">Yaml</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../golang/learning/os-package.html">Os package</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../golang/learning/os-exec.html">Os exec</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../golang/learning/path-filepath.html">Path filepath</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../golang/learning/encoding-json.html">Encoding json</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../golang/learning/net-http.html">Net http</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../golang/learning/strconv.html">Strconv</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../golang/learning/context.html">Context</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../golang/learning/strings.html">Strings</a>
                </li>
    </ul>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="#">projects</a>
    <ul>
                <li class="toctree-l2"><a class="reference internal" href="../../golang/projects/1-Simple-CLI-Tool.html">1 Simple CLI Tool</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../golang/projects/2-Web-Server-with-Basic-API.html">2 Web Server with Basic API</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../golang/projects/4-Container-Image-Builder.html">4 Container Image Builder</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../golang/projects/7-color-print-message.html">7 color print message</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../golang/projects/8-Currency-Conversion-API.html">8 Currency Conversion API</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../golang/projects/9.Todo-List-API.html">9.Todo List API</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../golang/projects/10-Recipe-API.html">10 Recipe API</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../golang/projects/11-contact-list-csv.html">11 contact list csv</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../golang/projects/12-mongodb-manual.html">12 mongodb manual</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../golang/projects/13-mongoDB-API.html">13 mongoDB API</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../golang/projects/14-midleware-okta.html">14 midleware okta</a>
                </li>
    </ul>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">Bash-Scripting</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="#">learning</a>
    <ul>
                <li class="toctree-l2"><a class="reference internal" href="../../bash/learning/special-variable.html">Special variable</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../bash/learning/conditional-expression.html">Conditional expression</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../bash/learning/jq.html">Jq</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../bash/learning/yq.html">Yq</a>
                </li>
    </ul>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="#">projects</a>
    <ul>
                <li class="toctree-l2"><a class="reference internal" href="../../bash/projects/1-File-Organizer.html">1 File Organizer</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../bash/projects/2-System-Monitor.html">2 System Monitor</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../bash/projects/3-Backup-Script.html">3 Backup Script</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../bash/projects/4-Web-Log-Analyzer.html">4 Web Log Analyzer</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../bash/projects/5-Task-Scheduler.html">5 Task Scheduler</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../bash/projects/6-color-print-message.html">6 color print message</a>
                </li>
    </ul>
                  </li>
              </ul>
      </div>
    </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">
      <nav class="wy-nav-top" role="navigation" aria-label="Mobile navigation menu">
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">Challenge DevOps</a>
        
      </nav>
      <div class="wy-nav-content">
        <div class="rst-content"><div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../../index.html" class="icon icon-home" aria-label="Docs"></a></li>
          <li class="breadcrumb-item">Ansible</li>
          <li class="breadcrumb-item">learning</li>
      <li class="breadcrumb-item active">3 ansible features</li>
    <li class="wy-breadcrumbs-aside">
    </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
            <div class="section" itemprop="articleBody">
              
                <p>Certainly! I'll explain these Ansible concepts aligned with the 80-20 principle, focusing on the most impactful aspects that will give you the majority of practical value.  </p>
<h3 id="variables">Variables</h3>
<p>Variables in Ansible are how you deal with differences between systems. They allow you to manage specific configuration values that may vary from host to host.  </p>
<p><strong>Defining Variables:</strong><br />
You can define variables in several places within Ansible:  </p>
<ul>
<li>In the inventory file.  </li>
<li>Directly in playbooks.  </li>
<li>In separate variable files (often within a role).  </li>
<li>Passed at the command line when running playbooks.  </li>
</ul>
<p><strong>Example in a Playbook:</strong>  </p>
<pre class="codehilite"><code class="language-yaml">---  
- hosts: webservers  
  vars:  
    http_port: 80  
    max_clients: 200  
  tasks:  
    - name: Set up web server  
      ansible.builtin.template:  
        src: templates/httpd.conf.j2  
        dest: /etc/httpd/conf/httpd.conf  
</code></pre>

<p>In this example, <code>http_port</code> and <code>max_clients</code> are variables that are used in the template for the web server configuration.  </p>
<h3 id="modules">Modules</h3>
<p>Modules are the units of work in Ansible. They can do anything from checking the status of a service to installing a package.  </p>
<p><strong>Commonly Used Modules:</strong>  </p>
<ul>
<li><code>ansible.builtin.command</code> or <code>ansible.builtin.shell</code>: Execute commands.  </li>
<li><code>ansible.builtin.copy</code>: Copy files from the local machine to the target.  </li>
<li><code>ansible.builtin.file</code>: Manage files and file properties.  </li>
<li><code>ansible.builtin.template</code>: Template a file out to a remote server.  </li>
<li><code>ansible.builtin.apt</code> or <code>ansible.builtin.yum</code>: Manage packages.  </li>
</ul>
<p><strong>Example of Using a Module:</strong>  </p>
<pre class="codehilite"><code class="language-yaml">tasks:  
  - name: Install Apache  
    ansible.builtin.yum:  
      name: httpd  
      state: present  
</code></pre>

<p>Here, <code>ansible.builtin.yum</code> is the module used to install the Apache package (<code>httpd</code>).  </p>
<h3 id="roles">Roles</h3>
<p>Roles are organizational units in Ansible that allow you to bundle tasks, handlers, files, templates, and variables into a reusable package.  </p>
<p><strong>Creating a Role:</strong><br />
Use the <code>ansible-galaxy</code> command to create a new role structure:  </p>
<pre class="codehilite"><code>ansible-galaxy init myrole  
</code></pre>

<p>This will create a directory structure under <code>myrole</code> with subdirectories for each type of content (tasks, handlers, etc.).  </p>
<p><strong>Using a Role in a Playbook:</strong>  </p>
<pre class="codehilite"><code class="language-yaml">---  
- hosts: webservers  
  roles:  
    - myrole  
</code></pre>

<p>Roles allow you to keep your playbooks clean and manageable by abstracting the complexity into easily reusable directories.  </p>
<h3 id="templates">Templates</h3>
<p>Templates in Ansible use the Jinja2 templating language to render files. They are particularly useful for managing configuration files.  </p>
<p><strong>Creating a Template:</strong><br />
You would create a template file (<code>httpd.conf.j2</code>) with configuration settings, using Jinja2 syntax for variables and control structures. For instance:  </p>
<pre class="codehilite"><code class="language-jinja">ServerRoot &quot;/etc/httpd&quot;  
Listen {{ http_port }}  
MaxClients {{ max_clients }}  
&lt;Directory &quot;/var/www/html&quot;&gt;  
    AllowOverride None  
    Require all granted  
&lt;/Directory&gt;  
</code></pre>

<p>In this example, <code>{{ http_port }}</code> and <code>{{ max_clients }}</code> are template variables that will be replaced with the respective Ansible variables' values when the template is rendered.  </p>
<p><strong>Using Templates in Playbooks:</strong><br />
You can use the <code>ansible.builtin.template</code> module to apply the template to your target hosts:  </p>
<pre class="codehilite"><code class="language-yaml">tasks:  
  - name: Configure web server  
    ansible.builtin.template:  
      src: templates/httpd.conf.j2  
      dest: /etc/httpd/conf/httpd.conf  
</code></pre>

<p>This task takes the <code>httpd.conf.j2</code> template, fills in the variable values, and copies the resulting file to the specified destination on the remote server.  </p>
<h3 id="bringing-it-all-together-with-the-80-20-principle">Bringing It All Together with the 80-20 Principle:</h3>
<p>By grasping these four concepts, you've covered a significant portion of the Ansible functionality that you'll use in most situations:  </p>
<ol>
<li><strong>Variables</strong> - Customize playbooks to work across different environments.  </li>
<li><strong>Modules</strong> - Perform specific tasks on the managed nodes.  </li>
<li><strong>Roles</strong> - Organize complex playbooks into reusable and shareable components.  </li>
<li><strong>Templates</strong> - Dynamically generate configuration files using variables.  </li>
</ol>
<p>To put the 80-20 principle into practice with Ansible, focus on mastering these elements by creating a few roles that encapsulate common tasks you expect to perform regularly. Use variables to adjust the behavior of these roles for different environments, and employ templates to handle configuration files that require dynamic content.   </p>
<p>Experiment with different modules to see how they can automate tasks you typically handle manually. For instance, if you often install software packages, get comfortable with the <code>apt</code> or <code>yum</code> modules (depending on your target systems). If you manage user accounts, familiarize yourself with the <code>user</code> module.  </p>
<p>As you gain confidence with these core features, you'll find that you can handle a wide range of automation tasks efficiently. Remember to reference the Ansible documentation for detailed information on each module and feature. Keep practicing by automating more of your routine tasks, and you'll be well on your way to becoming proficient in Ansible.</p>
              
            </div>
          </div><footer>
    <div class="rst-footer-buttons" role="navigation" aria-label="Footer Navigation">
        <a href="2-basic.html" class="btn btn-neutral float-left" title="2 basic"><span class="icon icon-circle-arrow-left"></span> Previous</a>
        <a href="../projects/1-Web-Server-nginx.html" class="btn btn-neutral float-right" title="1 Web Server nginx">Next <span class="icon icon-circle-arrow-right"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
      <p>Challenge DevOps Team</p>
  </div>

  Built with <a href="https://www.mkdocs.org/">MkDocs</a> using a <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
</footer>
          
        </div>
      </div>

    </section>

  </div>

  <div class="rst-versions" role="note" aria-label="Versions">
  <span class="rst-current-version" data-toggle="rst-current-version">
    
    
      <span><a href="2-basic.html" style="color: #fcfcfc">&laquo; Previous</a></span>
    
    
      <span><a href="../projects/1-Web-Server-nginx.html" style="color: #fcfcfc">Next &raquo;</a></span>
    
  </span>
</div>
    <script src="../../js/jquery-3.6.0.min.js"></script>
    <script>var base_url = "../..";</script>
    <script src="../../js/theme_extra.js"></script>
    <script src="../../js/theme.js"></script>
      <script src="../../search/main.js"></script>
    <script>
        jQuery(function () {
            SphinxRtdTheme.Navigation.enable(true);
        });
    </script>

</body>
</html>
