<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="author" content="Challenge DevOps Team" />
      <link rel="shortcut icon" href="../../img/favicon.ico" />
    <title>5 run nginx container - Challenge DevOps</title>
    <link rel="stylesheet" href="../../css/theme.css" />
    <link rel="stylesheet" href="../../css/theme_extra.css" />
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/styles/github.min.css" />
    
      <script>
        // Current page data
        var mkdocs_page_name = "5 run nginx container";
        var mkdocs_page_input_path = "ansible/projects/5-run-nginx-container.md";
        var mkdocs_page_url = null;
      </script>
    
    <!--[if lt IE 9]>
      <script src="../../js/html5shiv.min.js"></script>
    <![endif]-->
      <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.8.0/highlight.min.js"></script>
      <script>hljs.highlightAll();</script> 
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
    <div class="wy-side-scroll">
      <div class="wy-side-nav-search">
          <a href="../../index.html" class="icon icon-home"> Challenge DevOps
        </a><div role="search">
  <form id ="rtd-search-form" class="wy-form" action="../../search.html" method="get">
      <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" title="Type search term here" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../../index.html">About Us</a>
                </li>
              </ul>
              <p class="caption"><span class="caption-text">Code Rendering Types</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../../rendering/concept.html">Web Rendering Strategies</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../rendering/CSR.html">CSR</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../rendering/SSR.html">SSR</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../rendering/SSG.html">SSG</a>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="../../rendering/ISR.html">ISR</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">Docker</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="../../docker/docker.html">Dockercompose</a>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">Golang</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="#">learning</a>
    <ul>
                <li class="toctree-l2"><a class="reference internal" href="../../golang/learning/func-breakdown.html">Func breakdown</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../golang/learning/pointers-dereferencing.html">Pointers dereferencing</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../golang/learning/methods.html">Methods</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../golang/learning/struct.html">Struct</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../golang/learning/file-operations.html">File operations</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../golang/learning/complex-struct.html">Complex struct</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../golang/learning/database-struct.html">Database struct</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../golang/learning/db-connection.html">Db connection</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../golang/learning/db-crud.html">Db crud</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../golang/learning/json.html">Json</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../golang/learning/yaml.html">Yaml</a>
                </li>
    </ul>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="#">projects</a>
    <ul>
                <li class="toctree-l2"><a class="reference internal" href="../../golang/projects/1-Simple-CLI-Tool.html">1 Simple CLI Tool</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../golang/projects/2-Web-Server-with-Basic-API.html">2 Web Server with Basic API</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../golang/projects/3-Simple-Monitoring-Script.html">3 Simple Monitoring Script</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../golang/projects/4-Container-Image-Builder.html">4 Container Image Builder</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../golang/projects/5-Simple-Chat-Server.html">5 Simple Chat Server</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../golang/projects/6-Data-Processing-Script.html">6 Data Processing Script</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../golang/projects/7-color-print-message.html">1. https://pkg.go.dev/github.com/fatih/color#pkg-overview</a>
                </li>
    </ul>
                  </li>
              </ul>
              <p class="caption"><span class="caption-text">Bash-Scripting</span></p>
              <ul>
                  <li class="toctree-l1"><a class="reference internal" href="#">learning</a>
    <ul>
                <li class="toctree-l2"><a class="reference internal" href="../../bash/learning/special-variable.html">Special variable</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../bash/learning/conditional-expression.html">Conditional expression</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../bash/learning/jq.html">Jq</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../bash/learning/yq.html">Yq</a>
                </li>
    </ul>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="#">projects</a>
    <ul>
                <li class="toctree-l2"><a class="reference internal" href="../../bash/projects/1-File-Organizer.html">1 File Organizer</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../bash/projects/2-System-Monitor.html">2 System Monitor</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../bash/projects/3-Backup-Script.html">3 Backup Script</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../bash/projects/4-Web-Log-Analyzer.html">4 Web Log Analyzer</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../bash/projects/5-Task-Scheduler.html">5 Task Scheduler</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../../bash/projects/6-color-print-message.html">6 color print message</a>
                </li>
    </ul>
                  </li>
              </ul>
      </div>
    </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">
      <nav class="wy-nav-top" role="navigation" aria-label="Mobile navigation menu">
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">Challenge DevOps</a>
        
      </nav>
      <div class="wy-nav-content">
        <div class="rst-content"><div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../../index.html" class="icon icon-home" aria-label="Docs"></a></li>
      <li class="breadcrumb-item active">5 run nginx container</li>
    <li class="wy-breadcrumbs-aside">
    </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
            <div class="section" itemprop="articleBody">
              
                <p>Ansible is an open-source automation tool that can be used to automate various IT tasks including the deployment and management of Docker containers. To run a Docker container locally using Ansible, follow these steps:  </p>
<h3 id="step-1-install-ansible">Step 1: Install Ansible</h3>
<p>First, you need to have Ansible installed on your local machine. You can install Ansible on most Linux distributions using their package managers. For example, on Ubuntu, you can install it with:  </p>
<pre class="codehilite"><code class="language-bash">sudo apt update  
sudo apt install ansible  
</code></pre>

<p>For other operating systems or methods, refer to the official Ansible documentation for installation instructions.  </p>
<h3 id="step-2-install-docker">Step 2: Install Docker</h3>
<p>Ensure that Docker is installed on your local machine. You can download and install Docker from the official Docker website. After installation, you can start the Docker service and enable it to run on boot with the following commands:  </p>
<pre class="codehilite"><code class="language-bash">sudo systemctl start docker  
sudo systemctl enable docker  
</code></pre>

<h3 id="step-3-configure-ansible-to-manage-docker">Step 3: Configure Ansible to Manage Docker</h3>
<p>Ansible uses modules to interact with various services and systems. For Docker, you'll use the <code>docker_container</code> module. Before you can use this module, you may need to install the Docker SDK for Python, which is required by the module. You can install it using pip:  </p>
<pre class="codehilite"><code class="language-bash">pip install docker  
</code></pre>

<h3 id="step-4-write-an-ansible-playbook">Step 4: Write an Ansible Playbook</h3>
<p>An Ansible playbook is a YAML file where you define the tasks to be executed by Ansible. Create a file named <code>docker_playbook.yml</code> with the following contents to define a task that runs a Docker container:  </p>
<pre class="codehilite"><code class="language-yaml">---

# inventory file for local execution  
all:  
  hosts:  
    localhost:  
      ansible_connection: local  


- name: Run a Docker container  
  all:  
    hosts:  
      localhost:  
        ansible_connection: local    
  gather_facts: no  
  tasks:  
    - name: Run a nginx container  
      docker_container:  
        name: mynginx  
        image: nginx:latest  
        state: started  
        ports:  
          - &quot;8080:80&quot;  
</code></pre>

<p>This playbook defines a single task that uses the <code>docker_container</code> module to ensure that a container named <code>mynginx</code> is running from the <code>nginx:latest</code> image. It also maps port 8080 on the host to port 80 inside the container.  </p>
<h3 id="step-5-run-the-ansible-playbook">Step 5: Run the Ansible Playbook</h3>
<p>Execute the playbook using the <code>ansible-playbook</code> command:  </p>
<pre class="codehilite"><code class="language-bash">ansible-playbook docker_playbook.yml  
</code></pre>

<p>Ansible will connect to your local machine (specified as <code>localhost</code> in the playbook), perform the necessary steps to ensure the container is running as described, and report the outcomes of the task.  </p>
<h3 id="step-6-verify-the-container-is-running">Step 6: Verify the Container is Running</h3>
<p>You can verify that the Docker container is running by listing all active containers:  </p>
<pre class="codehilite"><code class="language-bash">docker ps  
</code></pre>

<p>You should see your <code>mynginx</code> container listed.  </p>
<h3 id="step-7-access-the-docker-container">Step 7: Access the Docker Container</h3>
<p>Since we mapped port 8080 on the host to port 80 in the container, you can access the Nginx server by going to <code>http://localhost:8080</code> in a web browser.  </p>
<p>Remember that this is a basic introduction and that Ansible and Docker are both complex tools with many features. For more advanced usage, you may want to explore topics such as Ansible roles, Docker volumes, Docker networks, and managing container lifecycles in greater detail. Always refer to the official documentation for the most accurate and detailed information.</p>
              
            </div>
          </div><footer>

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
      <p>Challenge DevOps Team</p>
  </div>

  Built with <a href="https://www.mkdocs.org/">MkDocs</a> using a <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
</footer>
          
        </div>
      </div>

    </section>

  </div>

  <div class="rst-versions" role="note" aria-label="Versions">
  <span class="rst-current-version" data-toggle="rst-current-version">
    
    
    
  </span>
</div>
    <script src="../../js/jquery-3.6.0.min.js"></script>
    <script>var base_url = "../..";</script>
    <script src="../../js/theme_extra.js"></script>
    <script src="../../js/theme.js"></script>
      <script src="../../search/main.js"></script>
    <script>
        jQuery(function () {
            SphinxRtdTheme.Navigation.enable(true);
        });
    </script>

</body>
</html>
